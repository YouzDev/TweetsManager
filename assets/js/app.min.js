function parseString(t){var e,n,l,i=/^#\w+|#\w+|#\w+$/,a=/^@\w+|@\w+|@\w+$/;if(i.test(t.html())){var s=i.exec(t.html())[0];e=t.attr("id"),n=t.html().split(s)[0],l=t.html().split(s)[1],$("#"+e).html(n+'<span class="colored">'+s+"</span>"+l)}if(a.test(t.html())){var c=a.exec(t.html())[0];e=t.attr("id"),n=t.html().split(c)[0],l=t.html().split(c)[1],$("#"+e).html(n+'<span class="colored">'+c+"</span>"+l)}}$(document).ready(function(){$(".text").each(function(t,e){parseString($(this))}),$(window).scroll(function(t){$(".layer").css("top",$(window).scrollTop())}),0===$(".tweet").length?$(".title").html("You have 0 tweets"):setInterval(function(){$.ajax({url:"/tweets",type:"GET",success:function(t){t[0].id_str!==$(".tweet .text").first().attr("id")&&(window.location="/")}})},1e4),$(".delete").click(function(t){t.preventDefault();var e=$(this).parent().html().split('id="')[1].split('"')[0];$(".ask").show(),$(".no").click(function(t){t.preventDefault(),$(".layer").hide()}),$(".yes").click(function(t){t.preventDefault(),$(".layer").hide(),$.ajax({url:"/delete",type:"POST",data:{id:e}}),setTimeout(function(){window.location="/"},300)})}),$("#link").click(function(t){t.preventDefault(),$(".new").show()}),$(".newTweet-cancel").click(function(t){t.preventDefault(),$(".new").hide()}),$(".newTweet").submit(function(t){t.preventDefault();var e=$(".tweet-status").val();e.length<=140?($.ajax({url:"/tweet",type:"POST",data:{status:e}}),setTimeout(function(){window.location="/"},300)):$(".tweet-button").before('<p class="error">Status is over 140 characters.</>')})});